{% extends 'shared/base.html' %}
{% block content %}
  <div class="vstack gap-4 mt-3">
    <div class="title-container">
      <h1 class="text-primary">Schrodinger SciBoard</h1>
    </div>
    <!-- Search bar -->
    <form action="{% url 'search-compounds' %}" method="get">
      <div class="input-group">
        <input type="text"
               name="query"
               id="compound-search-field"
               class="form-control"
               placeholder="Search existing compounds"
               value="{{ smiles_query }}">
        <button type="submit" class="btn btn-primary">Search</button>
      </div>
    </form>
    <div class="info-para-container ">
      <a href="https://www.google.com"><i class="bi bi-info-circle-fill"></i></a>
      <p>Visit our glossary</p>
    </div>
    <!-- Add Compounds -->
    <div class="d-grid">{% include 'compound_search/partials/add-compounds.html' %}</div>
    <!-- Search results -->
    {% if smiles_list|length > 0 %}
      <div class="compound-card-grid">
        {% for smiles in smiles_list %}
          <div class="compound-card-container">
            {% include 'compound_image/partials/compound-image-card.html' with smiles=smiles highlighted_substructure=smiles_query %}
          </div>
        {% endfor %}
      </div>
    {% else %}
      <p class="fs-3">No matching compounds</p>
    {% endif %}
  </div>
{% endblock %}
{% block styles %}
  <style>
  .text-primary {
    text-align: center;
  }
  
  .compound-card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(15rem, 1fr));
    gap: 2rem;
    justify-items: center;
  }

  .compound-card-container {
    width: 18rem;
  }
  .title-container {
    flex-direction: column;
    align-items: center;
    /* font-size: 3rem; */
  }
  .info-para-container {
    display: flex;
    flex-direction: row;
    gap: 5px;
  }

  </style>
{% endblock %}
